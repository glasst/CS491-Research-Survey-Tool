{% extends "base.html" %}
{% load bootstrap4 %}
{% block title %}{{ survey_title }} - results{% endblock %}
{% block content %}

    {% if user == creator_Id %}
        <h3 align="center">{{ survey_title }}  - results</h3>
        <br/>
        <div class="container">
            {% for q in questions %}
                <br/>
                {% if q.question_type == 'MC' %}
                    <div class="container" style="border:1px solid #cecece; padding: 20px;">
                        <form method="post" id="r{{ q.question_num }}">
                            {% csrf_token %}
                            <h4>{{ q.question_title }}</h4><br/>
                            <h5>{{ q.question_text }}</h5><br/>
                            <div class="radio"><label><input type="radio" name="radio"> {{ q.option_1 }}</label></div>
                            <div class="radio"><label><input type="radio" name="radio"> {{ q.option_2 }}</label></div>
                            {% if q.option_3 %}<div class="radio"><label><input type="radio" name="radio"> {{ q.option_3 }}</label></div>{% endif %}
                            {% if q.option_4 %}<div class="radio"><label><input type="radio" name="radio"> {{ q.option_4 }}</label></div>{% endif %}
                            {% if q.option_5 %}<div class="radio"><label><input type="radio" name="radio"> {{ q.option_5 }}</label></div>{% endif %}
                        </form>
                        {% if q.responsemc_set.all %}
                            <h5>Responses</h5><br/>
                            {% for response in q.responsemc_set.all %}
                            {{ response.response_Id }} &nbsp&nbsp {{response.response_text}}<br>
                            {% endfor %}
                        {% else %}
                            No MC responses
                        {% endif %}
                    </div>
                {% elif q.question_type == 'TE' %}
                    <div class="container" style="border:1px solid #cecece; padding: 20px;">
                        <form method="post" id="r{{ q.question_num }}">
                            {% csrf_token %}
                            <h4>{{ q.question_title }}</h4><br/>
                            <h5>{{ q.question_text }}</h5><br/>
                            <div class="form-group"><textarea class="form-control" rows="3"></textarea></div>
                        </form>
                        {% if q.responsete_set.all %}
                            <h5>Responses</h5><br/>
                            {% for response in q.responsete_set.all %}
                                <div class="container" style="border:1px solid #cecece; padding: 20px;">
                                    {{ response.response_text }}<br/>
                                </div>
                            {% endfor %}
                        {% else %}
                            No TE responses
                        {% endif %}
                    </div>
                {% else %}
                    <div class="container" style="border:1px solid #cecece; padding: 20px;">
                        <form method="post" id="r{{ q.question_num }}">
                            {% csrf_token %}
                            <h4>{{ q.question_title }}</h4><br/>
                            <h5>{{ q.question_text }}</h5><br/>
                            <div class="checkbox"><label><input type="checkbox"> {{ q.option_1 }}</label></div>
                            <div class="checkbox"><label><input type="checkbox"> {{ q.option_2 }}</label></div>
                            {% if q.option_3 %}<div class="checkbox"><label><input type="checkbox"> {{ q.option_3 }}</label></div>{% endif %}
                            {% if q.option_4 %}<div class="checkbox"><label><input type="checkbox"> {{ q.option_4 }}</label></div>{% endif %}
                            {% if q.option_5 %}<div class="checkbox"><label><input type="checkbox"> {{ q.option_5 }}</label></div>{% endif %}
                        </form>
                        {% if q.responsecb_set.all %}
                            <h5>Responses</h5><br/>
                            {% for response in q.responsecb_set.all %}
                                {{ response.response_Id }} &nbsp&nbsp {{response.response_text}}<br>
                            {% endfor %}
                        {% else %}
                            No te responses
                        {% endif %}
                    </div>
                {% endif %}
            {% endfor %}
            <br/>
        </div>
    {% else %}
        You are not allowed to view this page
    {% endif %}
{% endblock %}
